[env:heltec-wireless-stick-lite-v3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
board_build.flash_mode = dio
board_upload.flash_size = 8MB
extra_scripts = pre:load_env.py

; Build flags for board-specific features
build_flags = 
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -D ARDUINO_USB_MODE=1
    -D ARDUINO_HELTEC_WIRELESS_STICK_LITE_V3
    -D HELTEC_WIRELESS_STICK_LITE_V3
    ; SX1262 LoRa pins for Heltec Wireless Stick Lite V3
    -D LORA_NSS=8
    -D LORA_DIO1=14
    -D LORA_RST=12
    -D LORA_BUSY=13
    -D LORA_MOSI=10
    -D LORA_MISO=11
    -D LORA_SCK=9
    -D LORA_VEXT_PIN=36
    -D LORA_TCXO_VOLTAGE=1.6
    -D DEVICE_MODE=MODE_TX
    ; LoRa Configuration (must match transmitter MeshCore settings)
    -D LORA_FREQ=923.125  ; MHz: 915.0 for US, 868.0 for EU, 433.0 for Asia
    -D LORA_SPREADING_FACTOR=8  ; 7-12 (lower = faster but shorter range)
    -D LORA_CODING_RATE=5  ; 5-8 for 4/5 to 4/8 (higher = more error correction)
    -D LORA_BANDWIDTH=62.5  ; kHz: 125.0, 250.0, or 500.0
    -D LORA_INVERT_IQ=1

    
; Library dependencies

lib_deps =
    bblanchon/ArduinoJson@^7.2.0
    jgromes/RadioLib@^7.1.2
    mathieucarbou/ESPAsyncWebServer@^3.4.8
    mathieucarbou/AsyncTCP@^3.2.14

; Monitor settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings
upload_speed = 921600
